<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="menu">
      <button id="rock">Rock</button>
      <button id="paper">Paper</button>
      <button id="scissors">Scissors</button>
    </div>
    <div id="scores"></div>
    <div id="winner"></div>
    <button id="reset">Reset</button>
    <script>
      let humanScore = 0,
        computerScore = 0;
      let scores = document.querySelector("#scores");
      let winner = document.querySelector("#winner");
      let menu = document.querySelector("#menu");
      let reset = document.querySelector("#reset");
      let getComputerChoice = () => {
        let options = ["rock", "paper", "scissors"];
        return options[Math.floor(Math.random() * 3)];
      };
      let playRound = (humanChoice, computerChoice) => {
        if (
          (humanChoice === "paper" && computerChoice === "rock") ||
          (humanChoice === "rock" && computerChoice === "scissors") ||
          (humanChoice === "scissors" && computerChoice === "paper")
        ) {
          humanScore += 1;
        } else if (
          (computerChoice === "paper" && humanChoice === "rock") ||
          (computerChoice === "rock" && humanChoice === "scissors") ||
          (computerChoice === "scissors" && humanChoice === "paper")
        ) {
          computerScore += 1;
        }

        console.log(`You = ${humanScore}, PC = ${computerScore}`);
        scores.textContent = `You = ${humanScore}, PC = ${computerScore}`;

        if (humanScore === 5 || computerScore === 5) {
          if (humanScore === 5) {
            winner.textContent = `You won!`;
          } else {
            winner.textContent = `You lose!`;
          }

          humanScore = 0;
          computerScore = 0;
        }
      };

      let playGame = () => {
        menu.addEventListener("click", (event) => {
          let computerChoice;
          switch (event.target.getAttribute("id")) {
            case "rock":
              computerChoice = getComputerChoice();
              playRound("rock", computerChoice);
              console.log("rock");
              console.log(computerChoice);
              break;
            case "paper":
              computerChoice = getComputerChoice();
              playRound("paper", computerChoice);
              console.log("paper");
              console.log(computerChoice);
              break;
            case "scissors":
              computerChoice = getComputerChoice();
              playRound("scissors", computerChoice);
              console.log("scissors");
              console.log(computerChoice);
              break;
          }
        });
      };

      reset.addEventListener("click", () => {
        humanScore = 0;
        computerScore = 0;
        scores.textContent = "";
        console.clear();
      });
      playGame();
    </script>
  </body>
</html>
